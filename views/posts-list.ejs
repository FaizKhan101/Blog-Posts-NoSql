<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blog</title>
    <link rel="stylesheet" href="/styles/shared.css" />
    <link rel="stylesheet" href="/styles/posts.css" />
  </head>
  <body>
    <header id="main-header">
      <div id="page-logo">
        <a href="#">MyBlog</a>
      </div>
      <nav>
        <ul id="nav-list">
          <li><a href="/">All Posts</a></li>
          <li><a href="/create-post">Create Post</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <h1>All Posts</h1>

      <section id="posts">
        <ul>
          <% if (!posts && posts.length <= 0 ) { %>
          <p>Posts not found!</p>
          <% } else { %> <% for (post of posts) { %>
          <li>
            <h2><%= post.title %></h2>
            <p id="author">By <%= post.author.name %></p>
            <p><%= post.summary %></p>
            <div class="post-action">
              <form class="delete-post-form" action="/post-delete" method="POST">
                <input type="hidden" name="postId" value="<%= post._id %>">
                <button class="delete-btn" type="submit">Delete</button>
              </form>
              <a href="/post-update/<%= post._id %>">Edit Post</a>
              <a href="/post-detail/<%= post._id %>">View Post</a>
            </div>
          </li>
          <% } %> <% } %>
        </ul>
      </section>
    </main>
  </body>
</html>
